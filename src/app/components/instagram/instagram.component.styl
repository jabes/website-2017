@import "~assets/styles/functions"
@import "~assets/styles/variables"
@import "~assets/styles/mixins"

@keyframes spin
  100%
    transform rotate(360deg)

@keyframes fadeIn
  100%
    opacity 1

.instagram-loading
  width 100%
  text-align center
  margin-bottom 8em

  .loading-icon
    display inline-block
    width 6em
    height 6em
    color #888
    animation spin 1s linear infinite

.instagram-posts
  display flex
  justify-content center
  flex-wrap wrap

.instagram-post
  position relative
  margin .5em
  opacity 0
  animation fadeIn 250ms linear forwards

  &:nth-child(1)
    animation-delay calc(100ms * 0)
  &:nth-child(2)
    animation-delay calc(100ms * 1)
  &:nth-child(3)
    animation-delay calc(100ms * 2)
  &:nth-child(4)
    animation-delay calc(100ms * 3)
  &:nth-child(5)
    animation-delay calc(100ms * 4)
  &:nth-child(6)
    animation-delay calc(100ms * 5)
  &:nth-child(7)
    animation-delay calc(100ms * 6)
  &:nth-child(8)
    animation-delay calc(100ms * 7)

  +media-xs()
    flex 0 0 calc(100% / 1 - 1em)
  +media-md()
    flex 0 0 calc(100% / 2 - 1em)
  +media-lg()
    flex 0 0 calc(100% / 3 - 1em)
  +media-xl()
    flex 0 0 calc(100% / 4 - 1em)

  .post-link
    z-index 10
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    display none
    +media-lg()
      display block

  &:hover .post-media
    img, video
      filter blur(10px)

  .post-media
    width 100%
    height 100%
    overflow hidden

    img, video
      display block
      width 100%
      height 100%
      margin 0
      padding 0
      object-fit cover

  .media-type-carousel
    position relative
    height 100%

    .featured-image
      width 60%
      height 100%

    .sidebar-images
      width 40%
      height 100%
      position absolute
      top 0
      right 0
      bottom 0
      left auto
      display flex
      flex-direction column

      .image
        position relative
        flex auto
        height (100% / 3)

    .view-all-text
      width 100%
      height 100%
      position absolute
      top 0
      right 0
      bottom 0
      left 0
      display flex
      align-items center
      justify-content center
      background-color rgba(0, 0, 0, .75)
      color white
      font-size 1.25em

  &:hover .post-overlay
    opacity 1

  .post-overlay
    opacity 0
    overflow hidden
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    margin 0
    background rgba(0, 0, 0, 0.8)
    user-select none
    pointer-events none
    padding 10%

  &:hover .post-caption
    animation fadeIn 250ms linear forwards
    animation-delay 100ms

  .post-caption
    opacity 0
    font-size 1em
    text-align center
    color white

    svg
      width 100%
      height 100%
      foreignObject > p
        margin 0
        font-size 8px
        line-height 1.35
        overflow hidden
        display -webkit-box
        -webkit-box-orient vertical
        -webkit-line-clamp 6

  .post-stats
    position absolute
    top auto
    bottom 10%
    left 0
    right 0
    width 100%
    height auto
    text-align center
    color white

  &:hover .post-stat
    animation fadeIn 250ms linear forwards

  .post-stat
    display inline-block
    margin 0 .5em
    opacity 0

    &:nth-child(1)
      animation-delay 200ms
    &:nth-child(2)
      animation-delay 300ms

    .stat-count
      display inline-block
      vertical-align middle
      font-size 1.4em
      margin 0 .1em

    .stat-icon
      display inline-block
      vertical-align middle
      width 1.4em
      height 1.4em
